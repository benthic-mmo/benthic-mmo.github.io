---
layout: default
title: Renderin
---

{% include happy_benthic.html %}
<div class="bubble">
  <h1>Rendering</h1>
  Model generation is handled by the
  <a href="https://docs.rs/metaverse_mesh/latest/metaverse_mesh/index.html">metaverse_mesh</a>
  crate.
  <br />
  Its main entrypoint is through the
  <a
    href="https://docs.rs/metaverse_mesh/latest/metaverse_mesh/skinned_mesh/fn.generate_skinned_mesh.html"
    >generate_skinned_mesh()</a
  >

  function. It also has C and C# wrappers, called
  <a
    href="https://docs.rs/metaverse_mesh/latest/metaverse_mesh/skinned_mesh/fn.generate_skinned_mesh_legacy.html"
    >generate_skinned_mesh_legacy</a
  >.
  <br />
    <div class="bubble tertiary">
      <h2>
        <a
          href="https://docs.rs/metaverse_mesh/latest/metaverse_mesh/skinned_mesh/fn.generate_skinned_mesh.html"
          >Generate Skinned Mesh</a
        >
      </h2>
      <div class="bubble">
        <h2>
          <a
            href="https://docs.rs/metaverse_messages/latest/metaverse_messages/utils/render_data/struct.AvatarObject.html"
            >AvatarObject</a
          >
        </h2>
        The function accepts an AvatarObject, which contains one JSON serialized <a href="https://docs.rs/metaverse_messages/latest/metaverse_messages/utils/skeleton/struct.Skeleton.html">skeleton</a> object, and a list of paths to its component <a href="https://docs.rs/metaverse_messages/latest/metaverse_messages/utils/render_data/struct.RenderObject.html">RenderObjects</a>.
        <br />
        <pre><code class="language-rust">AvatarObject

{
    "objects": ["/home/skclark/.local/share/benthic/agent/fb2e5541-66ba-4019-a5de-e8b9286b0914/5ac91189-43a4-4c00-97b3-badab08b551e_t-shirt.json", 
                "/home/skclark/.local/share/benthic/agent/fb2e5541-66ba-4019-a5de-e8b9286b0914/91f0232f-e9e1-45d0-8b88-ddf01a715fbf_overalls.json", 
                "/home/skclark/.local/share/benthic/agent/fb2e5541-66ba-4019-a5de-e8b9286b0914/44a3f658-bf47-4767-8450-6c9042efac5f_Curves.json", 
                "/home/skclark/.local/share/benthic/agent/fb2e5541-66ba-4019-a5de-e8b9286b0914/7e6d3d00-6ad8-4041-a809-7fda0fc4a4fb_body.json"],
    "global_skeleton": {
        "joints": {
            "Butt": {
                "name": "Butt",
                "transforms": [{
                    "name": "Default",
                    "id": "00000000-0000-0000-0000-000000000000",
                    "transform": [3.802805e-8, -1.0000001, 1.6506195e-7, -0.0, -1.0000001, -3.8027313e-8, 0.00000114482, 0.0, -0.0000011448196, -3.207441e-8, -1.0000004, 0.0, -0.00000185084, -0.055000454, -1.7398628, 1.0],
                    "rank": 0
                }],...
        </code></pre>

              <div class="bubble sinister">
        <h2><a href="https://docs.rs/metaverse_messages/0.2.0/metaverse_messages/utils/render_data/struct.RenderObject.html">RenderObject</a></h2>
        The RenderObject contains the mesh data and local skeleton for each component object.
        <pre><code class="language-rust">RenderObject

[{
        "name": "t-shirt",
        "id": "5ac91189-43a4-4c00-97b3-badab08b551e",
        "vertices": [
                [0.04588852, -0.16824126, 0.7088021],
                [0.04042725, -0.1912551, 0.71027595],
                [0.04245572, -0.1912551, 0.7064233],
                [0.0685799, -0.056631688, 0.71403205],
                [0.061838612, -0.0696567, 0.7208681],
                [0.06817527, -0.07142272, 0.71457577],,...
        </code></pre>
      </div>
      </div>

  </div>
  Example rust usage of this crate can be found in the
  <a href="https://github.com/benthic-mmo/metaverse_gltf/tree/main/tests"
    >tests</a
  >
  directory.
  <br />
  The goal of this is to create a standardized way of generating GLTF files from
  open metaverse server data that can be used by any project in any language.
</div>
<div class="bubble">
  <h1>C and C#</h1>
  To build for use with C# run
  <pre><code>cargo build --release</code></pre>
  The rust shared library will be created in the
  <code>target/release/</code> directory. The resulting shared library will be
  different on each platform.
  <div class="bubble-row">
    <div class="bubble contrast">
      <h2>Linux</h2>
      libmetaverse_gltf.so
    </div>
    <div class="bubble contrast">
      <h2>Mac</h2>
      libmetaverse_gltf.dylib
    </div>
    <div class="bubble contrast">
      <h2>Windows</h2>
      libmetaverse_gltf.dll
    </div>
  </div>
</div>
